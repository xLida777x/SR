n = int(input())  
x = int(input())  
total = 0  
for i in range(1, n + 1):  
    for j in range(1, n + 1): 
        elem = x ** abs((j - i)) 
        if 1 < i < n and 1 < j < n:
            elem = 0
        print(elem, end = " ")
        if 0 < j < 3:
            total += elem
    print("")
print(total)